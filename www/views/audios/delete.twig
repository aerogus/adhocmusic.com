{{ include('common/header.twig') }}

<div class="container">

  <div class="row">
  <div class="col-md-8 mx-auto">

    <h2 class="px-2 py-1 mb-0 bg-dark text-white rounded-top">Supprimer une musique</h2>
    <div class="border rounded-bottom bg-white p-3">

    {% if unknown_audio %}

    <p class="alert alert-danger">Cet audio est introuvable !</p>

    {% else %}

    <form id="form-audio-delete" name="form-audio-delete" method="post" action="/audios/delete">
      <div class="row mb-3">
        <label class="col-3 form-label" for="mp3">Écouter</label>
        <div class="col-9">
          <audio controls id="mp3" src="{{ audio.directMp3Url }}"></audio>
        </div>
      </div>
      <div class="row mb-3">
        <label class="col-3 form-label" for="name">Nom</label>
        <div class="col-9">
          <span id="name">{{ audio.name }}</span>
        </div>
      </div>
      {% if groupe %}
      <div class="row mb-3">
        <label class="col-3 form-label" for="groupe">Groupe</label>
        <div class="col-9">
          <span id="groupe">{{ groupe.name }}</span>
        </div>
      </div>
      {% endif %}
      {% if event %}
      <div class="row mb-3">
        <label class="col-3 form-label" for="event">Événement</label>
        <div class="col-9">
          <span id="event">{{ event.date|date('d/m/Y H\\:i') }} - {{ event.name }}</span>
        </div>
      </div>
      {% endif %}
      {% if lieu %}
      <div class="row mb-3">
        <label class="col-3 form-label" for="lieu">Lieu</label>
        <div class="col-9">
          <span id="lieu">{{ lieu.idDepartement }} - {{ lieu.name }}</span>
        </div>
      </div>
      {% endif %}
      <div class="row mb-3">
        <label class="col-3 form-label" for="online">Afficher</label>
        <div class="col-9">
          <span id="online">{{ audio.online }}</span>
        </div>
      </div>
      {% if membre %}
      <div class="row mb-3">
        <label class="col-3 form-label" for="created_at">Envoyé le</label>
        <div class="col-9">
          <span id="created_at">{{ audio.createdAt|date('d/m/Y \\à H\\:M') }} par <a href="{{ membre.url }}">{{ membre.pseudo }}</a></span>
        </div>
      </div>
      {% endif %}
      {% if audio.modifiedAt %}
      <div class="row mb-3">
        <label class="col-3 form-label" for="modified_at">Modifié le</label>
        <div class="col-9">
          <span id="modified_at">{{ audio.modifiedAt|date('d/m/Y \\à H\\:M') }}</span>
        </div>
      </div>
      {% endif %}
      <div class="row mb-3">
        <div class="offset-3">
          <input id="form-audio-delete-submit" name="form-audio-delete-submit" class="btn btn-primary" type="submit" value="❌ Confirmer la suppression">
          <input type="hidden" name="id" value="{{ audio.idAudio }}">
        </div>
      </div>
    </form>

    {% endif %}

  </div>{# .col-md-8 #}
  </div>{# .row #}
</div>{# .container #}

{{ include('common/footer.twig') }}
